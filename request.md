📄 一、软件开发需求规约文档（SRS）
1. 项目概述
该系统旨在为公交公司提供一种基于用户实时出行需求的“响应式公交调度系统”。用户可通过前端提交出行请求，公交公司依据用户需求、历史交通数据、高德地图API进行聚类分析和线路规划，并手动决定是否派出车辆，以实现临港区域的高效公共出行服务。

2. 角色与权限
角色	权限说明
用户	提交出行需求、查看响应结果
公交公司管理员	查看用户需求、生成推荐线路、确认发车调度

3. 功能需求
3.1 用户端功能
出行需求提交：填写起点、终点、出发时间、人数。

地点选择：基于高德POI接口进行模糊地点搜索。

提交响应页面反馈：提交成功后给予提示。

前端平台访问：Web形式，无需注册登录。

3.2 管理端功能
用户需求可视化展示：按时间段汇总展示需求。

需求聚类分析：

时间聚类：将半小时内的出行请求分组。

空间聚类：依据空间位置对OD点归类，形成聚合站点。

线路规划模块：

聚合OD → 路线生成 → 多OD路径重构。

调用高德路线规划API获取建议线路。

对建议路线进行二次优化（基于历史交通评价数据的延迟指数，替换或重排部分路径）。

人工确认发车：显示系统推荐发车线路，管理员确认后才派车。

系统调度时间设定：每30分钟运行一次线路分析与推荐。

4. 非功能需求
部署平台：Web端优先，支持Chrome、Edge等浏览器。

响应时间：页面请求响应时间 < 3s。

数据安全性：无需登录注册，仅处理匿名数据。

系统可扩展性：结构支持后续引入登录系统与实时定位模块。

5. 数据使用说明
数据类型	用途
实时用户需求	路线规划核心输入
GPS公交历史数据	可用于评估路径覆盖范围、调度建议（暂不核心使用）
交通评价数据（延迟指数）	用于对高德API给出的路径进行二次过滤与评分
历史OD全量数据	可用于初始聚合点候选建模与算法训练（非实时使用）

🏗️ 二、系统架构设计（简化）
⬛ 模块划分结构图（文本形式）
markdown
复制
编辑
┌──────────────────────────────┐
│         用户前端平台         │
│ - 起终点选择（高德POI）      │
│ - 出行时间与人数填写         │
│ - 提交与提示反馈             │
└────────────┬─────────────────┘
             │
             ▼
┌──────────────────────────────┐
│         请求接收模块         │
│ - 存储用户出行需求           │
└────────────┬─────────────────┘
             │每30分钟调度触发
             ▼
┌──────────────────────────────┐
│        路线调度算法引擎      │
│ - 时间/空间聚类              │
│ - 构建聚合站点               │
│ - 路线初步规划（高德API）     │
│ - 延迟指数筛选优化            │
└────────────┬─────────────────┘
             │
             ▼
┌──────────────────────────────┐
│        公交公司管理平台      │
│ - 查看推荐路线                │
│ - 确认发车                    │
└──────────────────────────────┘
🧰 三、技术栈建议（Web优先）
层级	推荐技术	说明
前端	Vue 3 / React + Element Plus / Ant Design	快速构建用户端与管理端界面
地图服务	高德开放平台 JS SDK	地点选择、路径规划、POI提示
后端	Node.js (Express) 或 Flask (Python)	快速搭建后端服务接口
数据库	MongoDB / PostgreSQL	存储用户需求数据与历史路径
算法服务	Python + Scikit-learn / custom	聚类、评分优化路径等可灵活实现
定时任务	Node-cron / APScheduler	每30分钟调度路径算法运行